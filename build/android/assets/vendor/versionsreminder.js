function str2int(e){var a=e.split(".");return 1e5*a[0]+1e3*a[1]+a[2]}module.exports=function(){if(Ti.Platform.model.match(/Kindle/i))return void Ti.UI.createNotification({message:"Das "+Ti.Platform.model+" unterstützt leider keine Karten.s"}).show();var e=str2int(Ti.App.getVersion()),a=(arguments[0]||{},"https://play.google.com/store/apps/details?id="+Ti.App.getId()),n=Ti.Network.createHTTPClient({onerror:function(){console.log("Warning: no connection to playstore "+e)},onload:function(){var n=/itemprop="softwareVersion">(.*?)</m.exec(this.responseText);if(!n)return void console.log("Warning: no connection to playstore "+e);var t=str2int(version=n[1].replace(/\s+/g,""));if(t>e){var r=Ti.UI.createAlertDialog({cancel:1,buttonNames:["Zum Store","Abbruch"],message:"Es gibt eine neue Version im Playstore.\n\nDiese App auf dem "+Ti.Platform.model+" hat die Version "+Ti.App.getVersion()+"\n\nIm Store ist  "+version+".\n\nMöchtest Du erneuern?",title:"Neue Version „"+Ti.App.getName()+"“"});r.show(),r.addEventListener("click",function(e){e.index!=e.source.cancel&&Ti.Platform.openURL(a)})}else e>t?Ti.Android&&Ti.UI.createNotification({message:Ti.App.getName()+" ist neuer als neu … ("+Ti.App.getVersion()+")"}).show():t==e&&Ti.Android&&Ti.UI.createNotification({message:Ti.App.getName()+" ist in neuester Version ("+Ti.App.getVersion()+")"}).show()}});n.open("GET",a),n.send()};